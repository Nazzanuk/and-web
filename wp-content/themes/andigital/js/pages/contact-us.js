function showLocation(a,b,c,d,e){var f=12;switch(e){case"administrative_area_level_1":f=6;break;case"locality":f=10;break;case"street_address":f=18}a.setZoom(f);var g=Map.addOffset(a,b,0,0);a.setCenter(g),Map.latlng=g;var h=new google.maps.Marker({position:g,map:a,title:c,icon:Site.dir+"/img/contact-us/marker.png"}),i=new google.maps.InfoWindow({content:""+d});google.maps.event.addListener(h,"click",function(){i.open(a,h)})}var Map={};Map.width=0,Map.height=0,Map.gmap,Map.init=function(){Map.station1=new google.maps.LatLng(51.51139,-.1284),Map.station2=new google.maps.LatLng(51.50741,-.12725),Map.station3=new google.maps.LatLng(51.5070797,-.1225829),Map.load(),$("#station1").click(function(){return Map.calcRouteToUnderground(Map.station1),Site.scrollTo({position:0}),!1}),$("#station2").click(function(){return Map.calcRouteToUnderground(Map.station2),Site.scrollTo({position:0}),!1}),$("#station3").click(function(){return Map.calcRouteToUnderground(Map.station3),Site.scrollTo({position:0}),!1})},Map.resize=function(){Map.width=Math.round($(window).width()),Map.height=Math.round($(window).height());var a=.7*Map.height;$("#map").height(a),Map.gmap&&Map.latlng&&Map.gmap.setCenter(Map.latlng)},Map.createHomeControl=function(a,b){a.style.padding="5px";var c=document.createElement("div");c.style.backgroundColor="white",c.style.borderColor="#CACED7",c.style.borderStyle="solid",c.style.borderWidth="1px",c.style.cursor="pointer",c.style.textAlign="center",c.title="Click to set the map to ANDigital",a.appendChild(c);var d=document.createElement("div");d.style.fontFamily="Arial,sans-serif",d.style.fontSize="12px",d.style.paddingLeft="2px",d.style.paddingRight="2px",d.style.paddingTop="2px",d.style.paddingBottom="2px",d.innerHTML='<img width="32px" height="32px" src="'+Site.dir+'/img/contact-us/compass.png">',c.appendChild(d),google.maps.event.addDomListener(c,"click",function(){b.setCenter(Map.latlng),Map.directionsDisplay.setMap(null),Map.directionsDisplay=new google.maps.DirectionsRenderer,Map.directionsDisplay.setMap(b)})},Map.addOffset=function(a,b,c,d){var e=a.getProjection(),f=e.fromLatLngToPoint(b);return f.x=f.x+c/Math.pow(2,a.getZoom()),f.y=f.y+d/Math.pow(2,a.getZoom()),e.fromPointToLatLng(f)},Map.calcRouteToUnderground=function(a){var b={origin:a,destination:Map.latlng,travelMode:google.maps.TravelMode.WALKING};Map.directionsService.route(b,function(a,b){b==google.maps.DirectionsStatus.OK&&Map.directionsDisplay.setDirections(a)})},Map.load=function(){var a=new google.maps.LatLng(51.5286416,-.1015987),b={zoom:14,center:a,scrollwheel:!1,navigationControl:!1,mapTypeControl:!1,scaleControl:!1,draggable:!0,mapTypeId:google.maps.MapTypeId.ROADMAP,panControl:!0,panControlOptions:{position:google.maps.ControlPosition.RIGHT_CENTER},zoomControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.LARGE,position:google.maps.ControlPosition.RIGHT_CENTER},streetViewControl:!0,streetViewControlOptions:{position:google.maps.ControlPosition.LEFT_CENTER}};Map.directionsDisplay=new google.maps.DirectionsRenderer,Map.directionsService=new google.maps.DirectionsService,Map.gmap=new google.maps.Map(document.getElementById("map-canvas"),b),Map.directionsDisplay.setMap(Map.gmap);{var c=document.createElement("div");Map.createHomeControl(c,Map.gmap)}c.index=1,Map.gmap.controls[google.maps.ControlPosition.TOP_LEFT].push(c);var d=new google.maps.Geocoder,e="8 Duncannon Street, London, WC2N 4JF, United Kingdom";d.geocode({address:e},function(a,b){b==google.maps.GeocoderStatus.OK&&showLocation(Map.gmap,a[0].geometry.location,"ANDigital Ltd","<b>ANDigital Ltd</b><br/>"+e,a[0].types[0])})},$=jQuery,$(function(){Map.init(),$(window).resize(function(){Map.resize()}),Map.resize()});